export AWS_ACCESS_KEY_ID=''
export AWS_SECRET_ACCESS_KEY=''
export SECRET_TOKEN=''

# ENVIRONMENT
export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home
export MONGO_HOME=/usr/local/mongodb
export MYSQL_HOME=/usr/local/mysql
export REDIS_HOME=/usr/local/redis
export TOMCAT_HOME=/usr/local/tomcat

export PATH=${PATH}:${JAVA_HOME}/bin:${MONGO_HOME}/bin:${MYSQL_HOME}/bin:${REDIS_HOME}/src:${TOMCAT_HOME}/bin

export EDITOR='/usr/local/bin/sublime'
export GIT_EDITOR='/usr/local/bin/sublime'

# RUBY
source ~/.rvm/scripts/rvm

# ALIAS
alias ...='cd ../..'
alias ..='cd ..'
alias .='cd .'
alias cap='bundle exec cap'
alias capseed='capush && cap production db:migrate && cap production db:seed'
alias capush='git push && git push --tags && bundle exec cap production deploy'
alias cleanlogs='sudo find /private/var/log/asl/* -mtime +5 -exec rm -rf {} \;'
alias cls='clear'
alias folders='ls -Gal | grep ^d'
alias hclear='history -c'
alias ip='curl ifconfig.me'
alias kill='kill -9'
alias killnautilus='killall -9 nautilus'
alias la='ls -lah'
alias psx='ps aux | grep'
alias psxjava='jps -l'
alias reload='source ~/.bash_profile'
alias upgrade='sudo apt-get update && sudo apt-get upgrade && sudo apt-get clean'
alias work='cd ~/workspace'

## GIT
alias clone='git clone'
alias fetch='git fetch --all; git fetch --tag'
alias ga='git commit -am'
alias gc='git commit'
alias gd='git difftool -y -x "sdiff" | less'
alias gg='gitg &'
alias gk='git checkout'
alias gl="git log --pretty=format:'%Cred%h%Creset%C(yellow)%d%Creset %s %Cgreen(%cr) %C(cyan  )<%an>%Creset' --abbrev-commit"
alias gm='git merge'
alias gs='git status -sb'
alias master='git checkout master'
alias pull='git pull'
alias push='git push && git push --tags'
alias remote='git config remote.origin.url'

### stash
alias pop='git stash pop'
alias stash='git add -A && git stash'

### rebase
alias rebase...='git add -A && git rebase --continue'
alias rebase='git add -A && git stash && git pull --rebase'

merge_theirs() {
  BRANCH=$1

  git merge --strategy recursive -X theirs $BRANCH
}

tag() {
  git tag -a "$1" -m "$1"

  echo "Now your project is on version '`git describe`'"
}

## RUBY
alias be='bundle exec'
alias bi='bundle install'
alias bu='bundle update'
alias cucumber='bundle exec cucumber'
alias guard='bundle exec guard'
alias migrate='rake db:drop:all && rake db:create:all && rake db:migrate && rake db:test:prepare'
alias rc='rails c'
alias rs='rails s'
alias rsp='rails s -p 3001'
alias rspec='bundle exec rspec'
alias spec='bundle exec rspec spec'

## JS
alias jasmine='node_modules/jasmine-node/bin/jasmine-node --forceexit'
alias jasmine2='node_modules/jasmine-node/bin/jasmine-node --forceExit'

# COLOR
export CLICOLOR=1
export GREP_COLOR='1;37'
export GREP_OPTIONS='--color=auto'
export LSCOLORS=ExFxCxDxBxegedabagacad

# 30: Black | 31: Red | 32: Green | 33: Yellow | 34: Blue | 35: Purple | 36: Cyan | 37: White | green others...
# 0: Normal | 1: Bold
prompt() {
  local CYAN='\[\033[0;36m\]'
  local PURPLE='\[\033[0;35m\]'
  local RED='\[\033[0;31m\]'
  local WHITE='\[\033[0;37m\]'
  local YELLOW='\[\033[0;33m\]'

  export PS1="${WHITE}\u${RED}@${PURPLE}\h ${CYAN}\w ${WHITE}(`~/.rvm/bin/rvm-prompt v`) \$(parse_git_branch) ${YELLOW}$ \[\e[m\]\[\e[m\]"
}; prompt

parse_git_branch() {
  git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1)/'
}
